# 1. 이해

```
[상황]
- N x N 격자판
- (1, 1)부터 시작
- 각 칸은 빈 칸이거나 벽
- 파이프 하나를 옮길거다
- 파이프는 2 칸을 차지한다
- 파이프는 가로, 세로, 오른쪽아래방향 대각선 방향으로 존재할 수 있
- 파이프를 밀 수 있는 방향은 3가지
	- 오른쪽
	- 오른쪽 아래
	- 아래
- 파이프는 밀면서 45도만 회전시킬 수 있다
- 아래 그림처럼 이동시킬때 꼭 비어있어야 하는 칸을 표시하였음

[출력]
- 처음 파이프가 (1,1) (1,2)를 차지하고 있고 방향이 가로일 때, 
파이프 한쪽 끝을 (N,N)으로 이동시키는 방법의 개수를 구하라
- 이동시킬 수 없으면 0을 출력

[입력]
- 맵 크기 N (MAX 16)
- 맵 상태
	- 0 : 빈칸
	- 1 : 벽
```

![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/f0d09fab-f760-445a-969a-74459f3b88cd/19873132-5b53-4704-87a6-a2362cb29100/image.png)

# 2. 설계

```
[생각]
- (N,N)으로 이동시키기 위해 가능한 경로를 탐색하는 것과 같다
- DFS로 디자인하면 될 것 같다
	- 해당 방향으로 가능한 밀기를 모두 다 해보고, (N,N)까지 도달하는지 체크한다
	- 만약 밀 수 없으면 리턴하면 된다
	
[방향 설계]
- 오른쪽, 오른쪽 아래 대각선, 아래 세 가지 방향만 존재
- 방향: 오 대 아
- idx : 0 1 2
- dy : 0, 1, 1
- dx : 1, 1, 0

[밀기 설계]
- 먼저 현재 파이프 방향값에 따라 가능한 밀기가 결정된다
- dir = 0 -> 밀기 0 ,1 가능
- dir = 1 -> 밀기 0, 1, 2 가능
- dir = 2 -> 밀기 1, 2 가능

- 밀기에 대해, 가능한 칸이 정의된다
- 0으로 밀면 0방향 다음칸이 비어있어야 한다
- 1로 밀면 0,1,2방향 다음칸이 비어있어야 한다
- 2로 밀면, 2방향 다음칸이 비어있어야 한다

[DFS 설계]
- 현재 방향에 따라 밀기가 다르므로, 현재 방향에 따른 for문을 적용
- 그 for문에 대해 가능한 칸을 짜르고 다음 lev로 넘어간다
- 만약 (N,N)에 도달했다면 return
- return할 때 ans++ 해준다
- 이렇게 하면 모든 방법을 얻을 수 있다
```